#!/usr/bin/env bash
# Script to configure firewall on web-01 to allow only ports 22, 80, 443

# Install UFW if not installed
if ! command -v ufw &> /dev/null; then
  apt-get update
  apt-get install ufw -y
fi

# Reset UFW and set defaults
ufw --force reset
ufw default deny incoming
ufw default allow outgoing

# Allow required TCP ports
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp

# Enable UFW
ufw --force enable

# Display final UFW status
ufw status verbose
